{"version":3,"file":"ej2-vue-base.umd.min.js","sources":["../src/component-base.js","../src/component-decorator.js","../src/template.js"],"sourcesContent":["/**\n * Vue Component Base\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport * as Vue3 from 'vue-class-component';\nimport * as Vue2 from 'vue';\nimport Vue from 'vue';\nexport var aVue = _interopRequireWildcard(Vue2);\nexport function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    }\n    else {\n        var newObj = {};\n        if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key))\n                    newObj[key] = obj[key];\n            }\n        }\n        newObj.default = obj;\n        return newObj;\n    }\n}\nexport var allVue = aVue;\nexport var gh = allVue.h;\nexport var isExecute = gh ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue3.Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar ComponentBase = /** @class */ (function (_super) {\n    __extends(ComponentBase, _super);\n    function ComponentBase() {\n        var _this = _super.call(this, arguments) || this;\n        _this.hasInjectedModules = false;\n        _this.hasChildDirective = false;\n        _this.childDirObjects = '';\n        _this.isDecorator = false;\n        return _this;\n    }\n    ComponentBase.prototype.created = function () {\n        var _this = this;\n        if (!this.propKeys) {\n            return;\n        }\n        var _loop_1 = function (prop) {\n            this_1.ej2Instances.addEventListener(prop, function (args) {\n                _this.$emit(prop, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n        var injectables = getValue('$root.$options.provide', this);\n        var vueInjectables = getValue('$parent.$options.provide', this);\n        if (this.hasInjectedModules && !isExecute) {\n            var prevModule = [];\n            if (injectables && injectables.managed) {\n                this.isDecorator = true;\n                prevModule = this.getInjectedServices() || [];\n            }\n            else if (injectables) {\n                prevModule = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            else if (vueInjectables) {\n                prevModule = this.getInjectedServices() || [];\n            }\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_1 = curModule; _b < curModule_1.length; _b++) {\n                var mod = curModule_1[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n    };\n    ComponentBase.prototype.mounted = function () {\n        var cusEle = this.$el ? this.$el.querySelectorAll(\"div.e-directive\") : null;\n        if (gh && cusEle) {\n            for (var i = 0; i < cusEle.length; i++) {\n                cusEle[i].parentElement && cusEle[i].parentElement.removeChild(cusEle[i]);\n            }\n        }\n        this.ej2Instances.isVue = true;\n        this.ej2Instances.isVue3 = this.isVue3;\n        this.ej2Instances.vueInstance = this;\n        if (this.isVue3) {\n            this.ej2Instances.ej2Instances = this.ej2Instances;\n            this.ej2Instances.referModels = this.models;\n        }\n        this.ej2Instances.appendTo(this.$el);\n    };\n    ComponentBase.prototype.getInjectedServices = function () {\n        var ret = [];\n        var provide;\n        if (this.$root && this.isDecorator) {\n            provide = getValue('$root.$options.provide', this);\n        }\n        else if (this.$vnode) {\n            provide = getValue('$vnode.context.$options.provide', this);\n        }\n        else if (this.$parent) {\n            provide = getValue('$parent.$options.provide', this);\n        }\n        if (provide) {\n            // tslint:disable:no-any\n            var injectables = provide;\n            if (typeof provide === 'function') {\n                if (provide.managed) {\n                    var provideKey = provide.managed;\n                    var provideValue = Object.keys(provideKey);\n                    var key = void 0;\n                    if (this.$root && this.isDecorator) {\n                        key = Object.keys(this.$root);\n                    }\n                    else if (this.$vnode) {\n                        key = Object.keys(this.$vnode.context);\n                    }\n                    else if (this.$parent) {\n                        key = Object.keys(this.$parent);\n                    }\n                    for (var i = 0; i < provideValue.length; i++) {\n                        for (var j = 0; j < key.length; j++) {\n                            if ((key[j].indexOf(provideValue[i])) !== -1) {\n                                if (this.$root && this.isDecorator) {\n                                    provideKey[provideValue[j]] = this.$root[key[i]];\n                                }\n                                else if (this.$vnode) {\n                                    provideKey[provideValue[i]] = this.$vnode.context[key[j]];\n                                }\n                                else if (this.$parent) {\n                                    provideKey[provideValue[i]] = this.$parent[key[j]];\n                                }\n                                injectables = provideKey;\n                            }\n                        }\n                    }\n                }\n                // tslint:disable:no-any\n                else if (this.$vnode) {\n                    injectables = this.$vnode.context.$options.provide();\n                }\n                else if (this.$parent) {\n                    injectables = this.$parent.$options.provide();\n                }\n            }\n            ret = injectables[this.ej2Instances.getModuleName()] || [];\n        }\n        this.isDecorator = false;\n        return ret;\n    };\n    ComponentBase.prototype.updated = function () {\n        if (this.hasChildDirective) {\n            var childKey = {};\n            this.fetchChildPropValues(childKey);\n            var curChildDir = JSON.stringify(childKey);\n            if (this.childDirObjects !== curChildDir) {\n                this.childDirObjects = curChildDir;\n                this.assignValueToWrapper(childKey, false);\n            }\n        }\n    };\n    ComponentBase.prototype.beforeDestroy = function () {\n        var tempBeforeDestroyThis = this;\n        tempBeforeDestroyThis.ej2Instances.destroy();\n        tempBeforeDestroyThis.$el.style.visibility = 'hidden';\n        tempBeforeDestroyThis = null;\n    };\n    ComponentBase.prototype.bindProperties = function () {\n        var options = {};\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((!isNullOrUndefined(this[prop]) && !this.isVue3) || (this[0] && !isNullOrUndefined(this[0][0]) && !isNullOrUndefined(this[0][0][prop]))) {\n                options[prop] = !this.isVue3 ? this[prop] : this[0][0][prop];\n            }\n        }\n        if (this.hasChildDirective) {\n            this.fetchChildPropValues(options);\n        }\n        if (this.hasInjectedModules) {\n            var prevModule = this.getInjectedServices() || [];\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_2 = curModule; _b < curModule_2.length; _b++) {\n                var mod = curModule_2[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n        this.assignValueToWrapper(options);\n    };\n    ComponentBase.prototype.assignValueToWrapper = function (option, silent) {\n        this.ej2Instances.setProperties(extend({}, {}, option, true), isNullOrUndefined(silent) ? true : silent);\n    };\n    ComponentBase.prototype.fetchChildPropValues = function (childOption) {\n        var dirProps = {};\n        if (!this.isVue3) {\n            dirProps = this.getDirectiveValues(this.$slots.default, this.tagMapper || {}, this.tagNameMapper || {});\n        }\n        else {\n            var propRef = void 0;\n            if (this[0] && this[0][1].slots.default) {\n                propRef = this[0][1].slots.default();\n            }\n            else if (this && this.$ && this.$.slots && this.$.slots.default) {\n                propRef = this.$.slots.default();\n            }\n            if (propRef) {\n                for (var i = 0; i < propRef.length; i++) {\n                    if (propRef[i].type.methods) {\n                        var key = propRef[i].type.methods.getTag().replace(\"e-\", \"\");\n                        var ref = this.resolveArrayDirectives(propRef[i].children, key);\n                        var splitKeys = key.split('-');\n                        var controlName = this.ej2Instances.getModuleName().toLowerCase();\n                        var keyRef = (splitKeys.length > 1 && controlName.indexOf(splitKeys[0]) > -1) ? splitKeys[1] : splitKeys[0];\n                        keyRef = keyRef.replace(controlName, '');\n                        if (controlName == \"splitter\" && keyRef == \"panes\") {\n                            keyRef = \"paneSettings\";\n                        }\n                        else if (controlName == \"bulletchart\" && keyRef == \"range\") {\n                            keyRef = \"ranges\";\n                        }\n                        else if (controlName == \"schedule\" && keyRef == \"header\") {\n                            keyRef = \"headerRows\";\n                        }\n                        dirProps[keyRef] = ref[key];\n                    }\n                }\n            }\n            else {\n                return;\n            }\n        }\n        if (!this.childDirObjects) {\n            this.childDirObjects = JSON.stringify(dirProps);\n        }\n        for (var _i = 0, _a = Object.keys(dirProps); _i < _a.length; _i++) {\n            var dirProp = _a[_i];\n            childOption[dirProp] = dirProps[dirProp];\n        }\n    };\n    ComponentBase.prototype.resolveArrayDirectives = function (slots, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = {};\n        items[tagName] = [];\n        var _loop_2 = function (childSlot) {\n            var tempObj = {};\n            var tagRef = childSlot.type.methods ? childSlot.type.methods.getTag() : tagName;\n            if (childSlot.children) {\n                var key = void 0;\n                innerDirValues = this_2.resolveComplexDirs(childSlot.children, this_2.tagMapper[\"e-\" + tagName], tagRef);\n                if (innerDirValues.length) {\n                    tempObj = innerDirValues;\n                }\n                else {\n                    for (var i = 0; i < Object.keys(innerDirValues).length; i++) {\n                        key = Object.keys(innerDirValues)[i];\n                        tempObj[key] = innerDirValues[key];\n                    }\n                    ;\n                }\n            }\n            if (childSlot.props) {\n                Object.keys(childSlot.props).forEach(function (key) {\n                    tempObj[key] = childSlot.props[key];\n                });\n            }\n            if ((/[s]\\b/).test(tagRef) && innerDirValues) {\n                if (!(/[s]\\b/).test(tagName) || innerDirValues.length) {\n                    items[tagName] = tempObj;\n                }\n                else {\n                    items[tagName].push(tempObj);\n                }\n            }\n            else {\n                items[tagName].push(tempObj);\n            }\n        };\n        var this_2 = this;\n        for (var _i = 0, slot_1 = slot; _i < slot_1.length; _i++) {\n            var childSlot = slot_1[_i];\n            _loop_2(childSlot);\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveComplexDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = {};\n        var _loop_3 = function (childSlot) {\n            var tagRef = void 0;\n            var tag = void 0;\n            if (tagObject[tagName]) {\n                tagRef = Object.keys(tagObject[tagName]);\n                tag = tagRef.find(function (key) {\n                    return tagObject[tagName][key] ===\n                        childSlot.type.methods.getTag().replace(/[s]\\b/, \"\");\n                });\n                tag = tag\n                    ? tag.replace(\"e-\", \"\")\n                    : childSlot.type.methods.getTag().replace(\"e-\", \"\");\n                if (this_3.ej2Instances.getModuleName().toLowerCase() == \"diagram\" && tag.indexOf('annotations') != -1) {\n                    tag = 'annotations';\n                }\n            }\n            if (childSlot.children) {\n                innerDirValues = this_3.resolveComplexInnerDirs(childSlot.children, tagObject[tagName], childSlot.type.methods.getTag());\n                if (!items[tag]) {\n                    items[tag] = [];\n                }\n                if (innerDirValues.length > 1) {\n                    items[tag] = innerDirValues;\n                }\n                else {\n                    items[tag].push(innerDirValues);\n                }\n            }\n            if (slot.length > 1) {\n                items = Object.keys(items).length == 0 && !items.length ? [] : items;\n                if (childSlot.props) {\n                    items.push(childSlot.props);\n                }\n            }\n            else {\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        };\n        var this_3 = this;\n        for (var _i = 0, slot_2 = slot; _i < slot_2.length; _i++) {\n            var childSlot = slot_2[_i];\n            _loop_3(childSlot);\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveComplexInnerDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = slot.length > 1 ? [] : {};\n        for (var _i = 0, slot_3 = slot; _i < slot_3.length; _i++) {\n            var childSlot = slot_3[_i];\n            var tag = childSlot.type.methods.getTag().replace(\"e-\", \"\");\n            if (childSlot.children) {\n                innerDirValues = this.resolveMultilevelComplexInnerDirs(childSlot.children, tagObject[tagName], childSlot.type.methods.getTag());\n                if ((/[s]\\b/).test(tag) || slot.length > 1) {\n                    if ((/[s]\\b/).test(tag)) {\n                        items[tag] = !items[tag] ? [] : items[tag];\n                        if (innerDirValues.length) {\n                            items[tag] = innerDirValues;\n                        }\n                        else {\n                            items[tag].push(innerDirValues);\n                        }\n                    }\n                    else if (innerDirValues) {\n                        items.push(innerDirValues);\n                    }\n                }\n                else {\n                    items = innerDirValues ? innerDirValues : items;\n                }\n            }\n            if (slot.length > 1 && childSlot.props) {\n                if (items.length >= 0) {\n                    items.push(childSlot.props);\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            else {\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveMultilevelComplexInnerDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = slot.length > 1 ? [] : {};\n        for (var _i = 0, slot_4 = slot; _i < slot_4.length; _i++) {\n            var childSlot = slot_4[_i];\n            var tag = childSlot.type.methods.getTag().replace(\"e-\", \"\");\n            if (childSlot.children) {\n                innerDirValues = this.resolveComplexInnerDirs(childSlot.children, tagObject[tagName], childSlot.type.methods.getTag());\n            }\n            if ((/[s]\\b/).test(tag)) {\n                items[tag] = !items[tag] ? [] : items[tag];\n                if (innerDirValues.length) {\n                    items[tag] = innerDirValues;\n                }\n                else {\n                    items[tag].push(innerDirValues);\n                }\n                if (childSlot.props) {\n                    items[tag].push(childSlot.props);\n                }\n            }\n            else {\n                items = innerDirValues;\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        }\n        return items;\n    };\n    ComponentBase.prototype.getDirectiveValues = function (tagDirectives, tagMapper, tagNameMapper) {\n        var keyTags = Object.keys(tagMapper);\n        var dir = {};\n        if (tagDirectives) {\n            for (var _i = 0, tagDirectives_1 = tagDirectives; _i < tagDirectives_1.length; _i++) {\n                var tagDirective = tagDirectives_1[_i];\n                if (tagDirective.componentOptions && tagDirective.componentOptions.children && tagDirective.componentOptions.tag) {\n                    var dirTag = tagDirective.componentOptions.tag;\n                    if (keyTags.indexOf(dirTag) !== -1) {\n                        var tagName = tagNameMapper[dirTag] ? tagNameMapper[dirTag] : dirTag;\n                        dir[tagName.replace('e-', '')] = [];\n                        for (var _a = 0, _b = tagDirective.componentOptions.children; _a < _b.length; _a++) {\n                            var tagDirChild = _b[_a];\n                            var retObj = this.getVNodeValue(tagDirChild, tagMapper[dirTag], tagNameMapper);\n                            if (Object.keys(retObj).length !== 0) {\n                                dir[tagName.replace('e-', '')].push(retObj);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return dir;\n    };\n    ComponentBase.prototype.getMultiLevelDirValue = function (tagDirectories, tagKey, tagNameMapper) {\n        var mulObj = {};\n        for (var _i = 0, tagDirectories_1 = tagDirectories; _i < tagDirectories_1.length; _i++) {\n            var tagDir = tagDirectories_1[_i];\n            if (tagDir.componentOptions) {\n                var key = tagDir.componentOptions.tag;\n                var tagName = tagNameMapper[key] ? tagNameMapper[key] : key;\n                mulObj[tagName.replace('e-', '')] = [];\n                if (tagDir.componentOptions && tagDir.componentOptions.children) {\n                    for (var _a = 0, _b = tagDir.componentOptions.children; _a < _b.length; _a++) {\n                        var tagDirChild = _b[_a];\n                        var mulLevObj = this.getVNodeValue(tagDirChild, tagKey[key], tagNameMapper);\n                        if (Object.keys(mulLevObj).length !== 0) {\n                            mulObj[tagName.replace('e-', '')].push(mulLevObj);\n                        }\n                    }\n                }\n            }\n        }\n        return mulObj;\n    };\n    ComponentBase.prototype.getVNodeValue = function (tagDirective, tagKey, tagNameMapper) {\n        var ret = {};\n        if (tagDirective.componentOptions) {\n            var dirTag = tagDirective.componentOptions.tag;\n            if (typeof tagKey === 'string' && dirTag === tagKey && tagDirective.data) {\n                ret = tagDirective.data.attrs ? this.getCamelCaseProps(tagDirective.data.attrs) : this.getCamelCaseProps(tagDirective.data);\n            }\n            else if (typeof tagKey === 'object') {\n                if (tagDirective.componentOptions.children && (Object.keys(tagKey).indexOf(dirTag) !== -1)) {\n                    ret = this.getMultiLevelDirValue(tagDirective.componentOptions.children, tagKey[dirTag], tagNameMapper);\n                }\n                if (tagDirective.data && tagDirective.data.attrs) {\n                    ret = extend(ret, this.getCamelCaseProps(tagDirective.data.attrs));\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * convert kebab case directive props to camel case\n     */\n    ComponentBase.prototype.getCamelCaseProps = function (props) {\n        var retProps = {};\n        for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            retProps[prop.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); })] = props[prop];\n        }\n        return retProps;\n    };\n    ComponentBase.prototype.dataBind = function () {\n        this.ej2Instances.dataBind();\n    };\n    ComponentBase.prototype.setProperties = function (arg, muteOnChange) {\n        return this.ej2Instances.setProperties(arg, muteOnChange);\n    };\n    return ComponentBase;\n}(vueImport));\nexport { ComponentBase };\n","/**\n * Vue Component Base\n */\nimport Vue from 'vue';\n// import { Base, Component as EJ2Component, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ComponentBase } from './component-base';\nexport var $internalHooks = [\n    'data',\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeDestroy',\n    'destroyed',\n    'beforeUpdate',\n    'updated',\n    'activated',\n    'deactivated',\n    'render',\n    'errorCaptured' // 2.5\n];\nexport function getProps(options) {\n    if (options === void 0) { options = {}; }\n    if (options.props) {\n        var _loop_1 = function (prop) {\n            (options.newprops || (options.newprops = {}))[prop] = {};\n            (options.watch || (options.watch = {}))[prop] = function (newVal) {\n                this.ej2Instances[prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    }\n    return [options.newprops, options.watch];\n}\nexport function EJComponentDecorator(options, isExecute) {\n    if (!isExecute) {\n        return;\n    }\n    return function (Component) {\n        return EJcomponentFactory(Component, options);\n    };\n}\nexport function EJcomponentFactory(Component, options) {\n    if (options === void 0) { options = {}; }\n    options.name = options.name || Component._componentTag || Component.name;\n    // prototype props.\n    var proto = Component.prototype;\n    if (options.props) {\n        var _loop_2 = function (prop) {\n            (options.props || (options.props = {}))[prop] = {};\n            (options.watch || (options.watch = {}))[prop] = function (newVal) {\n                this.ej2Instances[prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    }\n    Object.getOwnPropertyNames(proto).forEach(function (key) {\n        // hooks\n        if (key === 'constructor') {\n            return;\n        }\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n        if (typeof descriptor.value === 'function') {\n            // methods\n            (options.methods || (options.methods = {}))[key] = descriptor.value;\n        }\n        else if (descriptor.get || descriptor.set) {\n            // computed properties\n            (options.computed || (options.computed = {}))[key] = {\n                get: descriptor.get,\n                set: descriptor.set\n            };\n        }\n    });\n    Object.getOwnPropertyNames(ComponentBase.prototype).forEach(function (key) {\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n    });\n    (options.mixins || (options.mixins = [])).push({\n        data: function () {\n            return collectDataFromConstructor(this, Component);\n        }\n    });\n    //  decorate options\n    var decorators = Component.__decorators__;\n    if (decorators) {\n        decorators.forEach(Function(options));\n        delete Component.__decorators__;\n    }\n    // find super\n    var superProto = Object.getPrototypeOf(Component.prototype);\n    var Super = superProto instanceof Vue\n        ? superProto.constructor\n        : Vue;\n    var Extended = Super.extend(options);\n    return Extended;\n}\nfunction collectDataFromConstructor(vm, Component) {\n    Component.prototype._init = function () {\n        var _this = this;\n        var keys = Object.getOwnPropertyNames(vm);\n        if (vm.$options.props) {\n            for (var key in vm.$options.props) {\n                if (!vm.hasOwnProperty(key)) {\n                    keys.push(key);\n                }\n            }\n        }\n        keys.forEach(function (key) {\n            if (key.charAt(0) !== '_') {\n                Object.defineProperty(_this, key, {\n                    get: function () { return vm[key]; },\n                    set: function (value) { return vm[key] = value; }\n                });\n            }\n        });\n    };\n    var data = new Component();\n    var plainData = {};\n    Object.keys(data).forEach(function (key) {\n        if (data[key] !== undefined) {\n            plainData[key] = data[key];\n        }\n    });\n    return plainData;\n}\n","import Vue from \"vue\";\nimport { setTemplateEngine, getTemplateEngine, getUniqueID, createElement, detach, extend, getValue, } from \"@syncfusion/ej2-base\";\nimport { allVue, gh } from \"./component-base\";\n// tslint:disable:no-any\nvar stringCompiler = getTemplateEngine();\nexport function compile(templateElement, helper) {\n    var that = this;\n    return function (data, context, propName, element, root) {\n        var returnEle;\n        if (context) {\n            var plugins = context.vueInstance ? context.vueInstance.plugins : null;\n            var pid = getUniqueID(\"templateParentDiv\");\n            var id = getUniqueID(\"templateDiv\");\n            var ele = createElement(\"div\", {\n                id: pid,\n                innerHTML: '<div id=\"' + id + '\"></div>',\n            });\n            document.body.appendChild(ele);\n            if (gh && typeof templateElement === \"string\") {\n                var vueSlot_1 = getCurrentVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_1) {\n                    // Compilation for Vue 3 slot template\n                    var app = allVue.createApp({\n                        render: function () {\n                            return vueSlot_1[templateElement]({ data: data });\n                        }\n                    });\n                    if (plugins) {\n                        for (var i = 0; i < plugins.length; i++) {\n                            app.use(plugins[i]);\n                        }\n                    }\n                    app.mount((context.getModuleName() === 'grid') ? (\"#\" + pid) : (\"#\" + id));\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 3 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else if (gh) {\n                // Compilation for Vue 3 functional template\n                var tempObj = templateElement.call(that, {});\n                var object = tempObj;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (!object.template) {\n                    object.template = object[Object.keys(object)[0]];\n                }\n                var templateCompRef = void 0;\n                if (object.template.extends) {\n                    templateCompRef = object.template.extends._context.components.template;\n                }\n                else {\n                    templateCompRef = object.template._context.components[templateElement.name];\n                    if (!templateCompRef) {\n                        var key = Object.keys(object.template._context.components)[0];\n                        templateCompRef = object.template._context.components[key];\n                    }\n                }\n                var tempRef_1;\n                if (propsData) {\n                    tempRef_1 = Object.assign(templateCompRef.data(), propsData);\n                }\n                else {\n                    tempRef_1 = Object.assign(templateCompRef.data(), dataObj.data);\n                    if (templateCompRef.components) {\n                        var objkeys = Object.keys(templateCompRef.components) || [];\n                        var _loop_1 = function (objstring) {\n                            var intComponent = templateCompRef.components[objstring];\n                            if (intComponent && intComponent.data) {\n                                var tempRef2_1 = Object.assign(intComponent.data(), dataObj.data);\n                                intComponent.data = function () { return tempRef2_1; };\n                            }\n                        };\n                        for (var _i = 0, objkeys_1 = objkeys; _i < objkeys_1.length; _i++) {\n                            var objstring = objkeys_1[_i];\n                            _loop_1(objstring);\n                        }\n                    }\n                }\n                templateCompRef.data = function () { return tempRef_1; };\n                var app = allVue.createApp(templateCompRef);\n                if (plugins) {\n                    for (var i = 0; i < plugins.length; i++) {\n                        app.use(plugins[i]);\n                    }\n                }\n                app.mount((context.getModuleName() === 'grid') ? (\"#\" + pid) : (\"#\" + id));\n                returnEle = ele.childNodes;\n                detach(ele);\n            }\n            else if (typeof templateElement === \"string\") {\n                var vueSlot_2 = getVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_2) {\n                    // Compilation for Vue 2 slot template\n                    var vueTemplate = new Vue({\n                        render: function () {\n                            return vueSlot_2[templateElement]({ data: data });\n                        }\n                    });\n                    vueTemplate.$mount(\"#\" + id);\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 2 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else {\n                // Compilation for Vue 2 functional template\n                var tempObj = templateElement.call(that, {});\n                var templateFunction = tempObj.template;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (propsData) {\n                    templateFunction = tempObj.template.extends;\n                    dataObj.propsData = propsData;\n                }\n                if (typeof templateFunction !== \"function\") {\n                    templateFunction = Vue.extend(templateFunction);\n                }\n                var templateVue = new templateFunction(dataObj);\n                // let templateVue = new Vue(tempObj.template);\n                // templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount(\"#\" + id);\n                returnEle = ele.childNodes;\n                if (context.vueInstance) {\n                    var templateInstance = context.vueInstance.templateCollection;\n                    if (!templateInstance) {\n                        context.vueInstance.templateCollection = {};\n                        templateInstance = context.vueInstance.templateCollection;\n                    }\n                    if (propName) {\n                        if (!templateInstance[propName]) {\n                            templateInstance[propName] = [];\n                        }\n                        templateInstance[propName].push(returnEle[0]);\n                    }\n                }\n                detach(ele);\n            }\n        }\n        return returnEle || [];\n    };\n}\nsetTemplateEngine({ compile: compile });\n// Get the Vue2 slot template from the root or current Vue component.\nfunction getVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var instance = (root && root.vueInstance) ? root.vueInstance : vueInstance;\n    return getVueChildSlot(instance, templateElement);\n}\nfunction getVueChildSlot(vueInstance, templateElement) {\n    if (!vueInstance) {\n        return undefined;\n    }\n    var slots = vueInstance.$slots;\n    var scopedSlots = vueInstance.$scopedSlots;\n    var vSlots = vueInstance.scopedSlots;\n    var children = vueInstance.children;\n    if (scopedSlots && scopedSlots[templateElement]) {\n        return scopedSlots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default;\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getVueChildSlot(getSlot(childSlots[i]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    else if (vSlots && vSlots[templateElement]) {\n        return vSlots;\n    }\n    else if (children) {\n        for (var i = 0; i < children.length; i++) {\n            var slot = getVueChildSlot(getSlot(children[i]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\nfunction getSlot(vnode) {\n    var slot = (vnode.componentOptions && vnode.componentOptions.children) ? vnode.componentOptions : vnode.data;\n    return vnode.componentInstance ? vnode.componentInstance : slot;\n}\n// Get the Vue3 slot template from the root or current Vue component.\nfunction getCurrentVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var slots = (root && root.vueInstance) ? root.vueInstance.$slots : vueInstance.$slots;\n    return getChildVueSlot(slots, templateElement);\n}\nfunction getChildVueSlot(slots, templateElement) {\n    if (slots && slots[templateElement]) {\n        return slots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default();\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getChildVueSlot(childSlots[i].children, templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\n"],"names":["_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","EJcomponentFactory","Component","options","name","_componentTag","proto","props","_loop_2","prop","watch","newVal","this","ej2Instances","dataBind","_i","_a","length","getOwnPropertyNames","forEach","$internalHooks","indexOf","descriptor","getOwnPropertyDescriptor","value","methods","get","set","computed","ComponentBase","mixins","push","data","vm","_init","_this","keys","$options","charAt","defineProperty","plainData","undefined","collectDataFromConstructor","decorators","__decorators__","Function","superProto","getPrototypeOf","Vue","constructor","extend","compile","templateElement","helper","that","context","propName","element","root","returnEle","plugins","vueInstance","pid","getUniqueID","id","ele","createElement","innerHTML","document","body","appendChild","gh","vueSlot_1","getChildVueSlot","$slots","getCurrentVueSlot","detach","stringCompiler","app","allVue","createApp","render","i","use","mount","getModuleName","childNodes","object","tempObj","propsData","getValue","dataObj","parent","template","templateCompRef","extends","_context","components","tempRef_1","assign","_loop_1","objstring","intComponent","tempRef2_1","objkeys_1","vueSlot_2","getVueChildSlot","getVueSlot","$mount","templateFunction","templateInstance","templateCollection","slots","scopedSlots","$scopedSlots","vSlots","children","childSlots","slot","getSlot","vnode","componentOptions","componentInstance","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","__","create","aVue","Vue2","h","isExecute","_super","arguments","hasInjectedModules","hasChildDirective","childDirObjects","isDecorator","created","propKeys","this_1","addEventListener","args","$emit","injectables","vueInjectables","prevModule","managed","getInjectedServices","_b","curModule_1","getInjectedModules","mod","injectedModules","mounted","cusEle","$el","querySelectorAll","parentElement","removeChild","isVue","isVue3","referModels","models","appendTo","provide","ret","$root","$vnode","$parent","provideKey","provideValue","j","updated","childKey","fetchChildPropValues","curChildDir","JSON","stringify","assignValueToWrapper","beforeDestroy","tempBeforeDestroyThis","destroy","style","visibility","bindProperties","isNullOrUndefined","curModule_2","option","silent","setProperties","childOption","dirProps","propRef","$","type","getTag","replace","ref","resolveArrayDirectives","splitKeys","split","controlName","toLowerCase","keyRef","getDirectiveValues","tagMapper","tagNameMapper","dirProp","tagName","innerDirValues","items","childSlot","tagRef","this_2","resolveComplexDirs","test","slot_1","tagObject","_loop_3","tag","find","this_3","resolveComplexInnerDirs","slot_2","slot_3","resolveMultilevelComplexInnerDirs","slot_4","tagDirectives","keyTags","dir","tagDirectives_1","tagDirective","dirTag","tagDirChild","retObj","getVNodeValue","getMultiLevelDirValue","tagDirectories","tagKey","mulObj","tagDirectories_1","tagDir","mulLevObj","attrs","getCamelCaseProps","retProps","e","toUpperCase","arg","muteOnChange","parseInt","version","Vue3.Vue","getTemplateEngine","setTemplateEngine","newprops"],"mappings":"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"}